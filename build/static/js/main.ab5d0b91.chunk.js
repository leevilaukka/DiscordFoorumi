(this.webpackJsonpdiscordfoorumi=this.webpackJsonpdiscordfoorumi||[]).push([[0],{17:function(e,n){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPUAAADwCAMAAADvotLkAAAAM1BMVEUAAAByidpyidpyidpyidpyidpyidpyidpyidpyidpyidpyidpyidpyidpyidpyidpyidp0bVOWAAAAEHRSTlMAQIAQv++fz2Aw3yBwUK+PD/W3OwAABYNJREFUeAHt3deWqzAPhuHPljtN93+zf8kasktWHLPHgBj0nk956NVA0zRN0zRN0zRN0zRN07Q+kTFWSKMxOKIpFJZVXDJ2jcbCEosJ+zUVllo02CeaWXIL9ihHlp2jHdCepRe7s4cVfSc2Rb5CM7q28DUa0THDF8kP6FfkqxTQrYmv04BeOb5OCzo18IUq6NTIVyqjTzNfKYs+Fb5SM/rElyqiS5mvFbpkVK1qVata1apWtapVrWpVq1rVqlY1VK1qVata1apWtapVrWpVR2et9VytWLu4+EPUJaQMAMhz0+32PIZycXUcBzyagucP+TABqzxeVl1Wcl48N+VDxlfDUq6odgaPKMUXnPstz38UE+Gr5K6mDsM6y35TOWetMXjJGLv80vsw4CvjrqR2+cscVomz04B6w2RXZDB1t0R1MX+a5zGjNbPEP6YbkPwl1JYAABTWDfPGhnH+fR0BLfLVMePR6OvkajRGZm9p/Q+KcPVCz5dEXCL8ezn456oCmkWrHR7ZdUP8nSiVdSICRbLaAMAQiyX0KLmS8SgJVjsAMDGhW8YlPCpy1QZATuhaMgCAJFYdsWNFqjphx6xQdcGekZeptti1IFNN2LUsUh2wc06i2mDnkkB1we55eeoRuxfkqQfsXhannnFARZo64YBGaWrCAQ3C1DMOKcpSJxzSKEtNOKRBlHrGQUVJ6oSDWiSpBxxUFqSOOCwvR21xWEGO2uCwkhi1x4eGZK01hGrGWpsGfIjEqGdUM8/b0u9NZH3jYHxRinpEJQr8zL8jGd88OtsiRZ3bxwhLDStrrLInKeqmbW6FnbfsCEmI2m2ZM57wUtm0Jywy1HbTvxgadkae8L4gQz1tWgl9y8wb8b5RhprwttAwkfLGlcaIUPuNO1fbcrSFSiLUDu9rOaaxW0/iogS13ah2LWqD980S1GkPdcb7rAS12Xg2vLQgUMlIUG8dBi81/P6CSlmAuqDS2LKh8ltHmhSgdhsPml3LTj2jVjlfHTaeF5qGi9wO1dz5aotaVBomkt04WvByvjptGm09UsOB64R69ny1wQa2I+AT239CI8lXg54kbxs+L+EGfMqcr8bnhtE57+ZEqJSC89HZDFxfvUt0SzVOV7tbq1VtB/RrMnipSFTnMqJTg5vxmpOoRuIyoUNkOdJl1EjMznzf7Fe0ePXKbnZXzCtakLp+m2LyzFwSfeOFxbeH7YM/W81z9XtePhhsjlKsnsRGPl3Ny4cTwrJkbGkdeKKY+g2Vc9Wc8KbseIUbNEUrmb0l2Xf3ODWcQPp5/CQ31vFaGPCmkYWoK2xMjn/lltEQXiMzhsjP/DJc4ckrDnjt7cgn0c32fyWT7P8KLvIfzal6hUKQmh3hfVQ6fTsvRxalrl7tCp2+wzN6eW+xzUOfbz5NlT2CJPWapR4jj/gMvDYEse/aezt0+BJnpIpZlnptnr7/JU6HP6Lk5I+N40MiPAvf/HjekObLjHlVgjW5enOm4bAnGzuXC45lVxz/Y67oGJWqVrWqVa1qVata1apWdbdUrWpVq1rVqla1qlWtalWrWtWqzrdUg0/OxzPUhU/OxBPUM5/cSPF4deKTc0A4XE18drSFjZ+yiE8AwtFqwycXAGA8WA3H51b2Hyte4oFK3sBGtyyf24hHkz9UjXj6vutR9oeq6WQ2tbPRsVz4zKb2/wP4MXM7tP8f6BotfF4FzWx0zhQ+rdzMRvdS5JMam995wQ5l6/iMYvObJNipwZwQWtn4wdlbqpFuqUa6pRrJ31GN7O+oRo53VIPiHdWgcEc1EG6pxnhLNdIt1cj+jmrkckc1KN5RDZrvqAbCLdUYb6lGuqUa2d9RjVzuqAbFO6pBM+OOLdA0TdM0TdM0TdM0TdO0b/ZfegfWFMciUSwAAAAASUVORK5CYII="},189:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),o=t(32),c=t.n(o),i=(t(78),t(14)),u=t(24),l=t(3),d=t(7),s=t.n(d),m=t(1),f=t(2);function p(){var e=Object(m.a)(["\n    max-width: 1200px;\n    margin-right: auto;\n    margin-left: auto;\n    width: 100%;\n"]);return p=function(){return e},e}var b=f.a.div(p()),E=function(e){return a.a.createElement(b,null,e.children)},g=t(36),h=t.n(g),v=t(37),O=t.n(v);t(105).config();var R=function(e){return Object(r.useEffect)((function(){var n=encodeURIComponent("https://foorumi.leevila.me/discord/login/callback"),t=O()("".concat("669505696991150085",":").concat("cBvSc7LP5MYlF4cptOQE5zUrW_AaQJBb")),r=h.a.parse(e.location.search,{ignoreQueryPrefix:!0})["?code"];s()("https://discordapp.com/api/oauth2/token?grant_type=authorization_code&code=".concat(r,"&redirect_uri=").concat(n),{method:"POST",headers:{Authorization:"Basic ".concat(t)}}).then((function(e){var n=e.data.access_token;window.localStorage.setItem("dToken",n),window.location.replace("/")})).catch((function(e){return console.error(e)}))})),a.a.createElement("div",null)},S=function(){return a.a.createElement("p",null,"Eip\xe4 ollu :-DDD (Oikeuksia)")},j=function(e){return Object(l.c)((function(e){return e.loggedIn}))?a.a.createElement(u.a,{path:e.path,component:e.component}):a.a.createElement(u.a,{path:e.path,component:S})},y=t(30),x=t(10);function k(){var e=Object(m.a)(["\n    background-color: #7289da;\n    color: #fff;\n    border: none;\n    border-radius: 5px;\n    transition: background-color .2s;\n    font-size: 1rem;\n    padding: .25rem .5rem;\n    text-decoration: none;\n    \n    :hover {\n        background-color: #2c2f33;\n        cursor: pointer;\n    }\n"]);return k=function(){return e},e}var T=f.a.a(k()),_=function(e){return a.a.createElement(T,{href:e.href,onClick:e.onClick},e.children)},w=function(){return a.a.createElement(_,{href:"https://foorumiapiprod.herokuapp.com/discord/login/"},a.a.createElement(x.a,{icon:y.a})," Kirjaudu Discordilla")},U=t(15),A=function(){var e=Object(l.b)();return a.a.createElement(_,{onClick:function(){window.localStorage.removeItem("dToken"),e({type:"LOGOUT"})}},"Kirjaudu ulos ",a.a.createElement(x.a,{icon:U.e}))},C=t(49);function D(){var e=Object(m.a)(["\n    width: 40px;\n    height: 40px;\n    border: 3px solid #7289da;\n    border-radius: 50%;\n    border-left-color: transparent;\n    animation: spin 1s infinite ;\n    \n    @keyframes spin\xa0{\n        from {\n            transform: rotate(0);\n        }\n        to {\n            transform: rotate(360deg);\n        }\n    }\n"]);return D=function(){return e},e}var L=f.a.div(D()),Q=function(){return a.a.createElement("div",null,a.a.createElement(L,null))};function I(){var e=Object(m.a)(["\n    color: #7289da;\n    animation: scale 1s infinite;\n    transform-origin: center;\n    display: inline-block;\n    margin-bottom: 1rem;\n    \n    @keyframes scale {\n        0% {\n            transform: scale(1);\n        }\n        50% {\n            transform: scale(1.2);\n        }\n        100% {\n            transform: scale(1);\n        }\n    }\n"]);return I=function(){return e},e}function F(){var e=Object(m.a)(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    width: 100%;\n    flex-direction: column;\n"]);return F=function(){return e},e}var z=f.a.div(F()),H=f.a.h2(I()),W=function(){return a.a.createElement(z,null,a.a.createElement(H,null,C[Math.floor(Math.random()*Math.floor(C.length))].message),a.a.createElement(Q,null))};function M(){var e=Object(m.a)(["\n    padding: 1rem;\n    \n    \n    a {\n        color: #FFF;\n        text-decoration: none;\n        padding: 5px;\n        border-radius: 5px;\n    }\n"]);return M=function(){return e},e}function P(){var e=Object(m.a)(["\n    display: flex;\n    width: 100%;\n    flex-wrap: wrap;\n    justify-content: center;\n"]);return P=function(){return e},e}var B=f.a.div(P()),V=f.a.div(M()),G=function(){var e=Object(l.c)((function(e){return e.boards.loading})),n=Object(l.c)((function(e){return e.boards.boards}));return a.a.createElement(B,null,e?a.a.createElement(W,null):n.map((function(e){var n=e.boarduri;return a.a.createElement(V,{key:e._id},a.a.createElement(i.b,{to:"/b/".concat(n)},e.title))})))},K=t(17),q=t.n(K),N=function(e){return function(n){return n(function(e){return{type:"REQUEST_USER",discordID:e}}(e)),s.a.get("https://foorumiapiprod.herokuapp.com/users/discord/users/".concat(e)).then((function(e){return n({type:"REQUEST_USER_SUCCESS",response:e.data})})).catch((function(e){return n({type:"REQUEST_USER_ERROR",error:e})}))}};function J(){var e=Object(m.a)(["\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    justify-self: flex-end;\n    margin-left: auto;\n    margin-right: 1rem;\n    \n    p {\n        margin-right: 1rem;\n    }\n"]);return J=function(){return e},e}function Y(){var e=Object(m.a)(["\n    height: 50px;\n    border-radius: 50%;\n\n"]);return Y=function(){return e},e}function X(){var e=Object(m.a)(["\n    \n"]);return X=function(){return e},e}function Z(){var e=Object(m.a)(["\n    align-self: center;\n    \n    a {\n        color: #7289da;\n        text-decoration: none;\n        font-weight: bold;\n        font-size: 1.6rem;\n    }\n"]);return Z=function(){return e},e}function $(){var e=Object(m.a)(["\n    width: 100%;\n    padding: 1rem;\n    display: flex;\n    flex-direction: row;\n    flex-wrap: wrap;\n    \n    a {\n        align-self: center;\n    }\n"]);return $=function(){return e},e}var ee=f.a.div($()),ne=f.a.span(Z()),te=f.a.p(X()),re=f.a.img(Y()),ae=f.a.div(J()),oe=function(){var e=Object(l.b)(),n=Object(l.c)((function(e){return e.discordUser.user})),t=Object(l.c)((function(e){return e.discordUser.loading})),o=Object(l.c)((function(e){return e.loggedIn})),c=Object(l.c)((function(e){return e.user.user}));return Object(r.useEffect)((function(){n.id&&e(N(n.id))}),[t,e,n.id]),Object(r.useEffect)((function(){var t;c||e((t={username:n.username,email:n.email,discordid:n.id,avatar:n.avatar,discriminator:n.discriminator,locale:n.locale},function(e){return e({type:"REQUEST_CREATE_USER"}),s.a.post("https://foorumiapiprod.herokuapp.com/users/",t).then((function(n){return e({type:"REQUEST_CREATE_USER_SUCCESS",response:n.data})})).catch((function(n){return e({type:"REQUEST_CREATE_USER_ERROR",error:n})}))})).then((function(){var e={to:n.email,subject:"K\xe4ytt\xe4j\xe4 luotu!",text:"Hei ".concat(n.username,"! \nLoit juuri k\xe4ytt\xe4j\xe4n DiscordFoorumille!")};s.a.post("https://foorumiapiprod.herokuapp.com/mail",e).then((function(e){return console.log(e)}))}))}),[e,c,n]),a.a.createElement(ee,null,a.a.createElement(ne,null,a.a.createElement(i.b,{to:"/"},"Foorumi")),a.a.createElement(ae,null,o&&!t?a.a.createElement(te,null,"Tervetuloa, ",n.username):a.a.createElement(te,null,"Kirjaudu sis\xe4\xe4n!"),o&&!t?a.a.createElement(i.b,{to:"/profile"}," ",n.avatar?a.a.createElement(re,{src:"https://cdn.discordapp.com/avatars/".concat(n.id,"/").concat(n.avatar,".jpg"),alt:""}):a.a.createElement(re,{src:q.a,alt:""})," "):null),o?a.a.createElement(A,null):a.a.createElement(w,null),a.a.createElement(G,null))};function ce(){var e=Object(m.a)(["\n    color: #ff0000;\n"]);return ce=function(){return e},e}function ie(){var e=Object(m.a)(["\n    min-width: 100%;\n    padding: 1rem;\n"]);return ie=function(){return e},e}function ue(){var e=Object(m.a)(["\n    border-radius: 50%;\n    width: 50px;\n    height: 50px;\n    background-color: #7289da;\n    transition: border-radius .2s;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    margin-left: auto;\n    \n    h3 {\n        font-size: 2rem;\n        user-select: none;\n    }\n    \n    :hover{\n        border-radius: 25%;\n    }\n"]);return ue=function(){return e},e}function le(){var e=Object(m.a)(["\n    border-radius: 50%;\n    width: 50px;\n    height: 50px;\n    transition: border-radius .2s;\n    margin-left: auto;\n    \n    :hover{\n        border-radius: 25%;\n    }\n"]);return le=function(){return e},e}function de(){var e=Object(m.a)(["\n    min-width: 25%;\n    padding: 1rem;\n    width: 25%;\n    \n    \n    @media (max-width: 992px) {\n      min-width: 50%;\n    }\n    \n    @media (max-width: 576px) {\n      min-width: 100%;\n    }\n    .owner {\n      background-color: gold;\n    }\n    .inner {\n        border-radius: 5px;\n        background-color: #2c2f33;\n        width: 100%;\n        padding: 1rem;\n        display: flex;\n        flex-direction: row;\n        align-items: center;\n        \n        p {\n            word-break: break-word;\n        }\n    }\n"]);return de=function(){return e},e}function se(){var e=Object(m.a)(["\n    display: flex;\n    flex-direction: row;\n    flex-wrap: wrap;\n    justify-content: center;\n"]);return se=function(){return e},e}var me=f.a.div(se()),fe=f.a.div(de()),pe=f.a.img(le()),be=f.a.div(ue()),Ee=f.a.h3(ie()),ge=f.a.h2(ce()),he=function(){var e=Object(l.b)(),n=window.localStorage.getItem("dToken");Object(r.useEffect)((function(){e(function(e){return function(n){return n({type:"REQUEST_GUILDS"}),s.a.get("https://foorumiapiprod.herokuapp.com/discord/user/guilds/".concat(e)).then((function(e){return n({type:"REQUEST_GUILDS_SUCCESS",response:e.data})})).catch((function(e){return n({type:"REQUEST_GUILDS_ERROR",error:e})}))}}(n))}),[e,n]);var t=Object(l.c)((function(e){return e.guilds.guilds})),o=Object(l.c)((function(e){return e.guilds.loading})),c=Object(l.c)((function(e){return e.guilds.error}));return a.a.createElement(me,null,a.a.createElement(Ee,null,"Palvelimet"),c&&a.a.createElement(ge,null,c.message),o?a.a.createElement(W,null):t.map((function(e){return a.a.createElement(fe,{key:e.id},a.a.createElement("div",{className:"inner"},a.a.createElement("p",null,e.name),e.icon?a.a.createElement(pe,{src:"https://cdn.discordapp.com/icons/".concat(e.id,"/").concat(e.icon,".png"),alt:"Kanavan ".concat(e.name," kuvake - ").concat(e.icon)}):a.a.createElement(be,null,a.a.createElement("h3",null,e.name.charAt(0)))))})))};function ve(){var e=Object(m.a)(["\n    background-color: #7289da;\n    color: #fff;\n    border: none;\n    border-radius: 5px;\n    transition: background-color .2s;\n    font-size: 1.2rem;\n    padding: .75rem .5rem;\n    text-decoration: none;\n    margin-left: auto;\n    margin-right: 1rem;\n    \n    @media (max-width: 750px) {\n        margin: 1rem auto auto;\n    }\n    :hover {\n        background-color: #99AAB5;\n        cursor: pointer;\n    }\n"]);return ve=function(){return e},e}function Oe(){var e=Object(m.a)(["\n    display: flex;\n    margin-left: auto;\n    @media (max-width: 750px) {\n        width: 100%;\n        align-items: center;\n    }\n"]);return Oe=function(){return e},e}function Re(){var e=Object(m.a)(["\n    @media (max-width: 450px) {\n        font-size: 0.8rem;\n    }\n"]);return Re=function(){return e},e}function Se(){var e=Object(m.a)(["\n    color: #aaa;\n    font-style: italic;\n    \n    @media (max-width: 450px) {\n        font-size: 0.8rem;\n    }\n"]);return Se=function(){return e},e}function je(){var e=Object(m.a)(["\n    font-size: 1.2rem;\n    color: gray;\n"]);return je=function(){return e},e}function ye(){var e=Object(m.a)(["\n    \n    @media (max-width: 600px) {\n        font-size: 1.2rem;\n    }\n    \n    @media (max-width: 450px) {\n        font-size: 0.9rem;\n        \n    }\n"]);return ye=function(){return e},e}function xe(){var e=Object(m.a)(["\n    border-radius: 50%;  \n    \n    @media (max-width: 450px) {\n        max-width: 50%;\n        margin: auto;\n    }\n"]);return xe=function(){return e},e}function ke(){var e=Object(m.a)(["\n    display: flex;\n    \n    @media (max-width: 450px) {\n        width: 100%;\n    }\n"]);return ke=function(){return e},e}function Te(){var e=Object(m.a)(["\n    display: flex;\n    flex-direction: column;\n    margin-left: 1rem;\n    \n    @media (max-width: 450px) {\n        width: 100%;\n        align-items: center;\n    }\n"]);return Te=function(){return e},e}function _e(){var e=Object(m.a)(["\n    width: 100%;\n    background-color: #2c2f33;\n    border-radius: 10px;\n    padding: 1rem;\n    margin-bottom: 1rem;\n    display: flex;\n    align-items: center;\n    flex-wrap: wrap;\n"]);return _e=function(){return e},e}function we(){var e=Object(m.a)(["\n    padding: 1rem;\n"]);return we=function(){return e},e}var Ue=f.a.div(we()),Ae=f.a.div(_e()),Ce=f.a.div(Te()),De=f.a.div(ke()),Le=f.a.img(xe()),Qe=f.a.h1(ye()),Ie=f.a.span(je()),Fe=f.a.p(Se()),ze=f.a.p(Re()),He=f.a.div(Oe()),We=f.a.a(ve()),Me=function(){var e=Object(l.c)((function(e){return e.discordUser.user}));return a.a.createElement(Ue,null,a.a.createElement(Ae,null,a.a.createElement(De,null,e.avatar?a.a.createElement(Le,{src:"https://cdn.discordapp.com/avatars/".concat(e.id,"/").concat(e.avatar,".jpg")}):a.a.createElement(Le,{src:q.a,alt:""})),a.a.createElement(Ce,null,a.a.createElement(Qe,null,e.username,a.a.createElement(Ie,null,"#",e.discriminator)),a.a.createElement(Fe,null,e.email),a.a.createElement(ze,null,e.locale)),a.a.createElement(He,null,a.a.createElement(We,null,"Muokkaa"))))},Pe=function(){return a.a.createElement("div",null,a.a.createElement(Me,null),a.a.createElement(he,null))},Be=t(9),Ve=t(70);function Ge(){var e=Object(m.a)(["\n    width: 100%;\n    display: flex;\n    \n    .column{\n        margin: 1rem auto;\n        min-width: 50%;\n    }\n"]);return Ge=function(){return e},e}function Ke(){var e=Object(m.a)(["\n    \n"]);return Ke=function(){return e},e}var qe=f.a.input(Ke()),Ne=f.a.div(Ge()),Je=function(){var e=Object(r.useState)(""),n=Object(Be.a)(e,2),t=n[0],o=n[1];return a.a.createElement(Ne,null,a.a.createElement("div",{className:"column"},a.a.createElement(qe,{type:"number",min:"0.50",step:"0.50",max:"1000000",value:t,onChange:function(e){o(e.target.value)}})),a.a.createElement(Ve.PayPalButton,{amount:t,onSuccess:function(e,n){s.a.post("https://foorumiapiprod.herokuapp.com/mail/",{to:e.payer.email_address,subject:"Kiitti t\xe4st, ".concat(e.payer.name.given_name," :-D"),text:"Kiitti n\xe4ist ".concat(t," eurost :--D")}),console.log(e)},currency:"EUR"}))};function Ye(){var e=Object(m.a)(["\n    width: 100%;\n    border-radius: 5px;\n    min-height: 20px;\n    background-color: #23272a;\n    padding: 1rem;\n    margin: 1rem auto;\n    color: #FFF;\n    border: 1px solid #7289da;\n"]);return Ye=function(){return e},e}function Xe(){var e=Object(m.a)(["\n  padding: 1rem;\n"]);return Xe=function(){return e},e}function Ze(){var e=Object(m.a)(["\n    width: 80%;\n    display: flex;\n    align-self: center;\n    justify-content: center;\n    flex-wrap: wrap;\n\n"]);return Ze=function(){return e},e}function $e(){var e=Object(m.a)(["\n    width: 100%;\n    background-color: #2c2f33;\n    border-radius: 20px;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    flex-wrap: wrap;\n    justify-content: center;\n"]);return $e=function(){return e},e}var en=f.a.div($e()),nn=f.a.div(Ze()),tn=f.a.h2(Xe()),rn=f.a.input(Ye()),an=function(e){var n=Object(r.useState)(!1),t=Object(Be.a)(n,2),o=t[0],c=t[1],i=Object(l.b)(),u=Object(l.c)((function(e){return e.user.error})),d=Object(l.c)((function(e){return e.user.user}));return Object(r.useEffect)((function(){var n=encodeURIComponent("http://localhost:3000/discord/register/callback"),t=O()("".concat("669505696991150085",":").concat("cBvSc7LP5MYlF4cptOQE5zUrW_AaQJBb")),r=h.a.parse(e.location.search,{ignoreQueryPrefix:!0})["?code"];s()("https://discordapp.com/api/oauth2/token?grant_type=authorization_code&code=".concat(r,"&redirect_uri=").concat(n),{method:"POST",headers:{Authorization:"Basic ".concat(t)}}).then((function(e){var n=e.data.access_token;i(N(n)),""!==u&&c(!0)})).catch((function(e){return console.error(e)}))})),!o&&a.a.createElement(en,null,a.a.createElement(tn,null,"Rekister\xf6idy"),a.a.createElement(nn,null,a.a.createElement("h4",null,"K\xe4ytt\xe4j\xe4nimi"),a.a.createElement(rn,{value:d.username}),a.a.createElement("h4",null,"S\xe4hk\xf6posti"),a.a.createElement(rn,{value:d.email})))},on=function(e){var n=new Date(Date.parse(e)),t=n.getDate(),r=n.getMonth(),a=n.getFullYear(),o=n.getHours(),c=n.getMinutes();return o<10&&(o="0"+o),c<10&&(c="0"+c),"".concat(t,".").concat(r+1,".").concat(a," ").concat(o,":").concat(c)},cn=t(31),un=t.n(cn);function ln(){var e=Object(m.a)(["\n  margin-left: auto;\n  color: #ffffff;\n  \n  :hover {\n    cursor: pointer;\n  }\n  \n  svg {\n    margin-right: .5rem;\n  }\n"]);return ln=function(){return e},e}function dn(){var e=Object(m.a)(["\n    display: inline-flex;\n    align-items: center;\n    justify-content: center;\n    position: relative;\n    cursor: pointer;\n    \n    svg {\n        position:absolute;\n        color: #282828;\n        transition: color .2s;\n        :hover {\n            color: #FF0000;\n        }     \n    }\n    \n"]);return dn=function(){return e},e}function sn(){var e=Object(m.a)(["\n    max-width: 200px;\n    width: 100%;\n    height: auto;\n"]);return sn=function(){return e},e}function mn(){var e=Object(m.a)(["\n    padding-top: 56.25%;\n    overflow: hidden;\n    position: relative;\n    width: 100%;\n    margin-bottom: 1rem;\n    \n    iframe {\n      position: absolute;\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 100%;\n    }\n"]);return mn=function(){return e},e}function fn(){var e=Object(m.a)(["\n    display: flex;\n    flex-direction: column;\n    padding: 1rem;\n    background-color: #23272A;\n    border-radius: 5px;\n    margin-bottom: 1rem;\n"]);return fn=function(){return e},e}var pn=f.a.div(fn()),bn=f.a.div(mn()),En=f.a.img(sn()),gn=f.a.div(dn()),hn=f.a.div(ln()),vn=function(e){var n=function(e){var n=e.match(/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#&?]*).*/);return!(!n||11!==n[7].length)&&n[7]},t="https://www.youtube.com/embed/".concat(n(e.videoID)),o="https://img.youtube.com/vi/".concat(n(e.videoID),"/maxresdefault.jpg"),c=Object(r.useState)(!1),i=Object(Be.a)(c,2),u=i[0],l=i[1];return a.a.createElement(a.a.Fragment,null,u?a.a.createElement(pn,null,a.a.createElement(bn,null,a.a.createElement("iframe",{title:e.videoID,width:"100%",height:"100%",src:t,frameBorder:"0",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0},"Youtube-video")),a.a.createElement(hn,{onClick:function(){return l(!u)}},a.a.createElement(x.a,{icon:U.h}),"Klikkaa sulkeaksesi upotteen")):a.a.createElement("div",null,a.a.createElement(gn,{onClick:function(){return l(!u)}},a.a.createElement(x.a,{icon:y.c,size:"4x"}),a.a.createElement(En,{src:o}))))};function On(){var e=Object(m.a)(["\n    margin-left: auto;\n    margin-right: 5px;\n    svg {\n      color: #7289da;\n      transition: color .2s;\n   }\n   \n   :hover svg {\n      color: #FFF;\n   }\n"]);return On=function(){return e},e}function Rn(){var e=Object(m.a)(["\n   border:none;\n   background: none;\n   padding: 5px;\n   \n   :hover{\n      cursor: pointer;\n   }\n   \n   svg {\n      color: #7289da;\n      transition: color .2s;\n   }\n   \n   :hover svg {\n      color: #FFF;\n      \n   }\n"]);return Rn=function(){return e},e}function Sn(){var e=Object(m.a)(["\n    display: flex;\n    flex-direction: row;\n    width: 100%;\n    border: 1px solid #7289da;\n    border-bottom: 1px dashed #666 ;\n    border-radius: 5px 5px 0 0;\n    background-color: #23272a;\n    padding: 5px;\n    align-items: center;\n"]);return Sn=function(){return e},e}var jn=f.a.div(Sn()),yn=f.a.button(Rn()),xn=f.a.a(On()),kn=function(e){return a.a.createElement(jn,null,a.a.createElement(yn,{tabIndex:"-1",title:"Lihavoi",onClick:function(n){n.preventDefault(),e.handler("bold")}},a.a.createElement(x.a,{icon:U.a})),a.a.createElement(yn,{tabIndex:"-1",title:"Kursivoi",onClick:function(n){n.preventDefault(),e.handler("italic")}},a.a.createElement(x.a,{icon:U.c})),a.a.createElement(yn,{tabIndex:"-1",title:"Yliviivaa",onClick:function(n){n.preventDefault(),e.handler("strikethrough")}},a.a.createElement(x.a,{icon:U.f})),a.a.createElement(yn,{tabIndex:"-1",title:"Spoiler",onClick:function(n){n.preventDefault(),e.handler("spoiler")}},a.a.createElement(x.a,{icon:U.b})),a.a.createElement(xn,{href:"https://en.wikipedia.org/wiki/Markdown",target:"_blank",title:"T\xe4m\xe4 tekstikentt\xe4 tukee Markdownia! Lue lis\xe4\xe4 klikkaamalla.",tabIndex:"-1"},a.a.createElement(x.a,{icon:y.b})))};function Tn(){var e=Object(m.a)(["\n    background-color: #7289da;\n    color: #fff;\n    border: none;\n    border-radius: 5px;\n    transition: background-color .2s;\n    font-size: 1rem;\n    padding: .25rem .5rem;\n    text-decoration: none;\n    \n    :hover {\n        cursor: pointer;\n    }\n"]);return Tn=function(){return e},e}function _n(){var e=Object(m.a)(["\n    background-color: #23272a;\n    border: #7289da solid 1px;\n    border-radius: 0 0 5px 5px;\n    color: #FFF;\n    width: 100%;\n    resize: vertical;\n    outline: none;\n    padding: 1rem;\n    margin-bottom: 1rem;\n    border-top: none;\n    min-height:55px;\n    \n"]);return _n=function(){return e},e}function wn(){var e=Object(m.a)(["\n    background-color: #23272a;\n    border: #7289da solid 1px;\n    border-radius: 5px;\n    color: #FFF;\n    width: 100%;\n    outline: none;\n    padding: 1rem;\n    margin-bottom: 1rem;\n    \n    :invalid{\n      border-color: #FF0000;\n    }\n"]);return wn=function(){return e},e}function Un(){var e=Object(m.a)(["\n    background-color: #23272a;\n    border: #7289da solid 1px;\n    border-radius: 5px;\n    color: #FFF;\n    width: 100%;\n    outline: none;\n    padding: 1rem;\n    margin-bottom: 1rem;\n"]);return Un=function(){return e},e}function An(){var e=Object(m.a)(["\n    display: flex;\n    flex-direction: row;\n    width: 100%;\n    flex-wrap: wrap;\n    align-items: center;\n    justify-content: center;\n"]);return An=function(){return e},e}function Cn(){var e=Object(m.a)(["\n    background-color: #23272a;\n    padding: 1rem;\n    border-radius: 5px;\n    text-align: center;\n    \n    h3{\n      margin-bottom: 1rem;\n    }\n"]);return Cn=function(){return e},e}function Dn(){var e=Object(m.a)(["\n    position: fixed;\n    left: 0;\n    top: 0;\n    width: 100vw;\n    height: 100vh;\n    display: flex;\n    background-color: rgba(0,0,0,0.5);\n    justify-content: center;\n    align-items: center;\n"]);return Dn=function(){return e},e}var Ln=f.a.div(Dn()),Qn=f.a.div(Cn()),In=f.a.form(An()),Fn=f.a.input(Un()),zn=f.a.input(wn()),Hn=f.a.textarea(_n()),Wn=f.a.button(Tn()),Mn=function(e){var n=Object(l.b)();Object(r.useEffect)((function(){i(e.title),f(e.body),g(e.embed)}),[e]);var t=Object(r.useState)(""),o=Object(Be.a)(t,2),c=o[0],i=o[1],u=Object(r.useState)(""),d=Object(Be.a)(u,2),m=d[0],f=d[1],p=Object(r.useState)(""),b=Object(Be.a)(p,2),E=b[0],g=b[1],h=Object(r.useRef)(null);return a.a.createElement(a.a.Fragment,null,e.open&&a.a.createElement(Ln,{id:"backdrop",onClick:e.onBackdropClick},a.a.createElement(Qn,null,a.a.createElement("h3",null,"Muokkaa lankaa"),a.a.createElement(In,{onSubmit:function(t){t.preventDefault();var r,a,o={title:c,body:m,embed:E};n((r=e.threadId,a=o,function(e){return e({type:"REQUEST_EDIT_THREAD"}),s.a.put("https://foorumiapiprod.herokuapp.com/threads/".concat(r),a).then((function(n){return e(function(e,n){return{type:"REQUEST_EDIT_THREAD_SUCCESS",response:e,threadId:n}}(n.data,r))})).catch((function(n){return e({type:"REQUEST_EDIT_THREAD_ERROR",error:n})}))})).then(e.afterSubmit)}},a.a.createElement(Fn,{type:"text",placeholder:"Langan otsikko",defaultValue:e.title,onChange:function(e){return i(e.target.value)}}),a.a.createElement(zn,{type:"text",placeholder:"YouTube-upote",title:"Anna kelvollinen YouTube-linkki!",defaultValue:e.embed,onChange:function(e){return g(e.target.value)},pattern:"^(http(s)?://)?((w){3}.)?youtu(be|.be)?(.com)?/.+"}),a.a.createElement(kn,{handler:function(e){var n,t=h.current.value,r=h.current.selectionStart,a=h.current.selectionEnd,o=t.substring(0,r),c=t.substring(a,t.length),i=t.substring(r,a);switch(e){case"bold":n=o+"**".concat(i,"**")+c,h.current.value=n,f(n);break;case"italic":n=o+"*".concat(i,"*")+c,h.current.value=n,f(n);break;case"strikethrough":n=o+"~~".concat(i,"~~")+c,h.current.value=n,f(n);break;case"spoiler":n=o+"<spoiler>".concat(i,"</spoiler>")+c,h.current.value=n,f(n);break;default:return}}}),a.a.createElement(Hn,{ref:h,rows:"6",placeholder:"Teksti",defaultValue:e.body,onChange:function(e){return f(e.target.value)}}),a.a.createElement(Wn,{type:"submit"},"Tallenna")))))},Pn=t(33);function Bn(){var e=Object(m.a)(["\n  height: 20px;\n  border-radius: 50%;\n  margin-right: 5px;\n"]);return Bn=function(){return e},e}function Vn(){var e=Object(m.a)(["\n   display: flex;\n   flex-direction: row;\n   margin-bottom: 1rem;\n   align-items: center;\n   \n   p {\n    color: #888;\n    font-size: 0.8rem;\n    font-style: italic;\n   }\n"]);return Vn=function(){return e},e}function Gn(){var e=Object(m.a)(["\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  padding: 1rem;\n  text-decoration: none;\n  background-color: #2C2F33;\n  color:#FFF;\n  margin-bottom: 1rem;\n  border-radius: 5px;\n  \n  a{\n    text-decoration: none;\n    font-size: 1.4rem;\n    font-weight: bold;\n    color: #7289da;\n  }\n"]);return Gn=function(){return e},e}function Kn(){var e=Object(m.a)(["\n    display: flex;\n    flex-direction: row;\n    margin-top: 1rem;\n    padding: 5px;\n    justify-content: flex-end;\n"]);return Kn=function(){return e},e}function qn(){var e=Object(m.a)(["\n   border:none;\n   background: none;\n   padding: 5px;\n   \n   :hover{\n      cursor: pointer;\n   }\n   \n   svg {\n      color: #7289da;\n      transition: color .2s;\n      pointer-events: none;\n   }\n   \n   :hover svg {\n      color: #00AA00;\n   }\n"]);return qn=function(){return e},e}function Nn(){var e=Object(m.a)(["\n   border:none;\n   background: none;\n   padding: 5px;\n   \n   :hover{\n      cursor: pointer;\n   }\n   \n   svg {\n      color: #7289da;\n      transition: color .2s;\n      pointer-events: none;\n   }\n   \n   :hover svg {\n      color: #AA0000;\n   }\n"]);return Nn=function(){return e},e}function Jn(){var e=Object(m.a)(["\n  display: flex;\n  align-items: center;\n  flex-wrap: wrap;\n"]);return Jn=function(){return e},e}var Yn=f.a.div(Jn()),Xn=f.a.button(Nn()),Zn=f.a.button(qn()),$n=f.a.div(Kn()),et=Object(f.a)(Pn.a.div)(Gn()),nt=f.a.div(Vn()),tt=f.a.img(Bn()),rt=function(){var e=Object(r.useRef)(),n=Object(r.useRef)(),t=Object(Pn.c)({transform:"translateX(0)",opacity:1,from:{transform:"translateX(100%)",opacity:0},ref:e});Object(Pn.d)({animatedStyles:t,ref:n});Object(Pn.b)([e,n]);var o=Object(r.useState)(!1),c=Object(Be.a)(o,2),u=c[0],d=c[1],m=Object(r.useState)(""),f=Object(Be.a)(m,2),p=f[0],b=f[1],E=Object(r.useState)(""),g=Object(Be.a)(E,2),h=g[0],v=g[1],O=Object(r.useState)(""),R=Object(Be.a)(O,2),S=R[0],j=R[1],y=Object(r.useState)(""),k=Object(Be.a)(y,2),T=k[0],_=k[1],w=Object(l.b)(),A=function(e){w(function(e){return function(n){return n({type:"REQUEST_DELETE_THREAD"}),s.a.delete("https://foorumiapiprod.herokuapp.com/threads/".concat(e)).then((function(t){return n(function(e,n){return{type:"REQUEST_DELETE_THREAD_SUCCESS",response:e,threadId:n}}(t.data,e))})).catch((function(e){return n({type:"REQUEST_DELETE_THREAD_ERROR",error:e})}))}}(e.target.value))},C=function(e){e.preventDefault(),d(!u);var n=e.target.getAttribute("data"),t=D.find((function(e){return e._id===n}));b(t.title),v(t.body),j(t.embed),_(n)},D=Object(l.c)((function(e){return e.threads.threads})),L=Object(l.c)((function(e){return e.threads.loading})),Q=Object(l.c)((function(e){return e.user.user._id})),I=Object(l.c)((function(e){return e.threads.createLoading}));return a.a.createElement(Yn,null,L?a.a.createElement(W,null):D.map((function(e){return a.a.createElement(et,{key:e._id},a.a.createElement(i.b,{to:"/b/".concat(e.board.boarduri,"/").concat(e.threadUri)},e.title),a.a.createElement(nt,null,a.a.createElement(tt,{src:e.user&&e.user.avatar?"https://cdn.discordapp.com/avatars/".concat(e.user.discordid,"/").concat(e.user.avatar,".jpg"):q.a}),a.a.createElement("p",null," ",I?"Ladataan...":e.user?" ".concat(e.user.username," - "):"Anonyymi - ",on(e.date))),e.embed&&a.a.createElement(vn,{videoID:e.embed}),a.a.createElement(un.a,{children:e.body,escapeHtml:!1}),e.user&&e.user._id===Q&&a.a.createElement($n,null,a.a.createElement(Zn,{data:e._id,title:"Muokkaa",onClick:C},a.a.createElement(x.a,{icon:U.d,size:"lg"})),a.a.createElement(Xn,{title:"Poista",value:e._id,onClick:A},a.a.createElement(x.a,{icon:U.g,size:"lg"}))))})),a.a.createElement(Mn,{open:u,title:p,body:h,embed:S,threadId:T,onBackdropClick:function(e){"backdrop"===e.target.id&&(d(!u),b(""),v(""),j(""),_(""))},afterSubmit:function(){d(!u),b(""),v(""),j(""),_("")}}))};function at(){var e=Object(m.a)(["\n    background-color: #7289da;\n    color: #fff;\n    border: none;\n    border-radius: 5px;\n    transition: background-color .2s;\n    font-size: 1rem;\n    padding: .25rem .5rem;\n    text-decoration: none;\n    \n    :hover {\n        cursor: pointer;\n    }\n"]);return at=function(){return e},e}function ot(){var e=Object(m.a)(["\n    background-color: #23272a;\n    border: #7289da solid 1px;\n    border-radius: 0 0 5px 5px;\n    color: #FFF;\n    width: 100%;\n    resize: vertical;\n    outline: none;\n    padding: 1rem;\n    margin-bottom: 1rem;\n    border-top: none;\n    min-height:55px;\n    \n"]);return ot=function(){return e},e}function ct(){var e=Object(m.a)(["\n    background-color: #23272a;\n    border: #7289da solid 1px;\n    border-radius: 5px;\n    color: #FFF;\n    width: 100%;\n    outline: none;\n    padding: 1rem;\n    margin-bottom: 1rem;\n    \n    :invalid{\n      border-color: #FF0000;\n    }\n"]);return ct=function(){return e},e}function it(){var e=Object(m.a)(["\n    background-color: #23272a;\n    border: #7289da solid 1px;\n    border-radius: 5px;\n    color: #FFF;\n    width: 100%;\n    outline: none;\n    padding: 1rem;\n    margin-bottom: 1rem;\n"]);return it=function(){return e},e}function ut(){var e=Object(m.a)(["\n    display: flex;\n    flex-direction: row;\n    width: 100%;\n    flex-wrap: wrap;\n    align-items: center;\n    justify-content: center;\n"]);return ut=function(){return e},e}var lt=f.a.form(ut()),dt=f.a.input(it()),st=f.a.input(ct()),mt=f.a.textarea(ot()),ft=f.a.button(at()),pt=function(){var e=Object(l.c)((function(e){return e.user.user})),n=Object(l.c)((function(e){return e.board.board})),t=Object(l.b)(),o=Object(r.useState)(""),c=Object(Be.a)(o,2),i=c[0],u=c[1],d=Object(r.useState)(""),m=Object(Be.a)(d,2),f=m[0],p=m[1],b=Object(r.useState)(""),E=Object(Be.a)(b,2),g=E[0],h=E[1],v=Object(r.useRef)(null);return a.a.createElement("div",null,a.a.createElement(lt,{onSubmit:function(r){var a;(r.preventDefault(),i&&f)?(a=g?{title:i,body:f,user:e._id,board:n._id,embed:g}:{title:i,body:f,user:e._id,board:n._id},t(function(e,n,t){return function(r){return r({type:"REQUEST_CREATE_THREAD"}),s.a.post("https://foorumiapiprod.herokuapp.com/threads/",e).then((function(e){return r(function(e,n,t){return{type:"REQUEST_CREATE_THREAD_SUCCESS",response:e,author:n,board:t}}(e.data,n,t))})).catch((function(e){return r({type:"REQUEST_CREATE_THREAD_ERROR",error:e})}))}}(a,e,n)),h(""),p(""),u("")):alert("T\xe4yt\xe4 kaikki kent\xe4t!")}},a.a.createElement(dt,{type:"text",onChange:function(e){return u(e.target.value)},value:i,placeholder:"Langan otsikko"}),a.a.createElement(st,{type:"text",onChange:function(e){return h(e.target.value)},value:g,placeholder:"YouTube-upote",pattern:"^(http(s)?://)?((w){3}.)?youtu(be|.be)?(.com)?/.+",title:"Anna kelvollinen YouTube-linkki!"}),a.a.createElement(kn,{handler:function(e){var n,t=v.current.value,r=v.current.selectionStart,a=v.current.selectionEnd,o=t.substring(0,r),c=t.substring(a,t.length),i=t.substring(r,a);switch(e){case"bold":n=o+"**".concat(i,"**")+c,v.current.value=n,p(n);break;case"italic":n=o+"*".concat(i,"*")+c,v.current.value=n,p(n);break;case"strikethrough":n=o+"~~".concat(i,"~~")+c,v.current.value=n,p(n);break;case"spoiler":n=o+"<spoiler>".concat(i,"</spoiler>")+c,v.current.value=n,p(n);break;default:return}}}),a.a.createElement(mt,{ref:v,rows:"6",onChange:function(e){return p(e.target.value)},value:f,placeholder:"Teksti (pakollinen)"}),a.a.createElement(ft,{type:"submit"},"Luo lanka")))};function bt(){var e=Object(m.a)(["\n    display: flex;\n    flex-direction: column;\n    background-color: #2C2F33;\n    border-radius: 5px;\n    padding: 1rem;\n    align-items: center;\n    margin-bottom: 1rem;\n    \n    p{\n        margin-bottom: 1rem;\n        font-weight: bold;\n    }\n"]);return bt=function(){return e},e}var Et=f.a.div(bt()),gt=function(e){var n=Object(l.b)(),t=Object(l.c)((function(e){return e.board.board})),o=Object(l.c)((function(e){return e.board.loading}));return Object(r.useEffect)((function(){n(function(e){return function(n){return n(function(e){return{type:"REQUEST_ALL_THREADS",board:e}}(e)),s.a.get("https://foorumiapiprod.herokuapp.com/threads/board/".concat(e)).then((function(e){return n({type:"REQUEST_ALL_THREADS_SUCCESS",response:e.data})})).catch((function(e){return n({type:"REQUEST_ALL_THREADS_ERROR",error:e})}))}}(t._id))}),[n,t._id]),a.a.createElement("div",null,o?a.a.createElement(W,null):a.a.createElement(Et,null,a.a.createElement("p",null,t.title),a.a.createElement(pt,null)),o?a.a.createElement(W,null):a.a.createElement(rt,null))};function ht(){var e=Object(m.a)(["\n    display: flex;\n    flex-direction: column;\n    background-color: #2C2F33;\n    border-radius: 5px;\n    padding: 1rem;\n    align-items: center;\n"]);return ht=function(){return e},e}var vt=f.a.div(ht()),Ot=function(e){var n=e.location.pathname.substring(3),t=Object(l.b)();Object(r.useEffect)((function(){t(function(e){return function(n){return n(function(e){return{type:"REQUEST_BOARD",board:e}}(e)),s.a.get("https://foorumiapiprod.herokuapp.com/boards/b/".concat(e)).then((function(e){return n({type:"REQUEST_BOARD_SUCCESS",response:e.data})})).catch((function(e){return n({type:"REQUEST_BOARD_ERROR",error:e})}))}}(n))}),[n,t]);var o=Object(l.c)((function(e){return e.board.board})),c=Object(l.c)((function(e){return e.board.loading}));return a.a.createElement("div",null,o?!c&&a.a.createElement(gt,null):a.a.createElement(vt,null,a.a.createElement(S,null)))};function Rt(){var e=Object(m.a)(["\n  margin-top: 5px;\n  display: flex;\n  align-items: center;\n  margin-bottom: 1rem;\n    p {\n        color: #888;\n        font-size: 0.8rem;\n        font-style: italic;    \n    }\n"]);return Rt=function(){return e},e}function St(){var e=Object(m.a)(["\n    font-size: 1.2rem;\n"]);return St=function(){return e},e}function jt(){var e=Object(m.a)(["\n  width: 100%;\n  background-color: #2C2F33;\n  padding: 1rem;\n  margin-top: 1rem;\n  border-radius: 5px;\n"]);return jt=function(){return e},e}function yt(){var e=Object(m.a)(["\n  display: flex;\n  flex-direction: column;\n  margin-bottom: 1rem;\n"]);return yt=function(){return e},e}var xt=f.a.div(yt()),kt=f.a.div(jt()),Tt=f.a.div(St()),_t=f.a.div(Rt()),wt=function(){var e=Object(l.c)((function(e){return e.articles.articles})),n=Object(l.c)((function(e){return e.articles.loading}));return a.a.createElement(xt,null,a.a.createElement("h4",null,"Kommentit"),!n&&e.map((function(e){return a.a.createElement(kt,{key:e._id},a.a.createElement(_t,null,a.a.createElement("p",null,e.user?e.user.username:"Anonyymi"," - ",on(e.date))),e.embed&&a.a.createElement(vn,{videoID:e.embed}),a.a.createElement(Tt,null,a.a.createElement(un.a,{source:e.body,escapeHtml:!1})))})))};function Ut(){var e=Object(m.a)(["\n    background-color: #7289da;\n    color: #fff;\n    border: none;\n    border-radius: 5px;\n    transition: background-color .2s;\n    font-size: 1rem;\n    padding: .25rem .5rem;\n    text-decoration: none;\n    \n    :hover {\n        cursor: pointer;\n    }\n"]);return Ut=function(){return e},e}function At(){var e=Object(m.a)(["\n    background-color: #23272a;\n    border: #7289da solid 1px;\n    border-radius: 0 0 5px 5px;\n    color: #FFF;\n    width: 100%;\n    resize: vertical;\n    outline: none;\n    padding: 1rem;\n    margin-bottom: 1rem;\n    border-top: none;\n    min-height:55px;\n    \n"]);return At=function(){return e},e}function Ct(){var e=Object(m.a)(["\n    background-color: #23272a;\n    border: #7289da solid 1px;\n    border-radius: 5px;\n    color: #FFF;\n    width: 100%;\n    outline: none;\n    padding: 1rem;\n    margin-bottom: 1rem;\n    \n    :invalid{\n      border-color: #FF0000;\n    }\n"]);return Ct=function(){return e},e}function Dt(){var e=Object(m.a)(["\n    display: flex;\n    flex-direction: row;\n    width: 100%;\n    flex-wrap: wrap;\n    align-items: center;\n    justify-content: center;\n"]);return Dt=function(){return e},e}var Lt=f.a.form(Dt()),Qt=f.a.input(Ct()),It=f.a.textarea(At()),Ft=f.a.button(Ut()),zt=function(){var e=Object(l.c)((function(e){return e.user.user})),n=Object(l.c)((function(e){return e.threads.thread})),t=Object(l.b)(),o=Object(r.useState)(""),c=Object(Be.a)(o,2),i=c[0],u=c[1],d=Object(r.useState)(""),m=Object(Be.a)(d,2),f=m[0],p=m[1],b=Object(r.useRef)(null);return a.a.createElement("div",null,a.a.createElement(Lt,{onSubmit:function(r){var a;(r.preventDefault(),i)?(a=f?{body:i,user:e._id,thread:n._id,embed:f}:{body:i,user:e._id,thread:n._id},t(function(e,n,t){return function(r){return r({type:"REQUEST_CREATE_ARTICLES"}),s.a.post("https://foorumiapiprod.herokuapp.com/articles/",e).then((function(e){return r(function(e,n,t){return{type:"REQUEST_CREATE_ARTICLES_SUCCESS",response:e,author:n,thread:t}}(e.data,n,t))})).catch((function(e){return r({type:"REQUEST_CREATE_ARTICLES_ERROR",error:e})}))}}(a,e,n)),p(""),u("")):alert("T\xe4yt\xe4 kaikki kent\xe4t!")}},a.a.createElement(kn,{handler:function(e){var n,t=b.current.value,r=b.current.selectionStart,a=b.current.selectionEnd,o=t.substring(0,r),c=t.substring(a,t.length),i=t.substring(r,a);switch(e){case"bold":n=o+"**".concat(i,"**")+c,b.current.value=n,u(n);break;case"italic":n=o+"*".concat(i,"*")+c,b.current.value=n,u(n);break;case"strikethrough":n=o+"~~".concat(i,"~~")+c,b.current.value=n,u(n);break;case"spoiler":n=o+"<spoiler>".concat(i,"</spoiler>")+c,b.current.value=n,u(n);break;default:return}}}),a.a.createElement(It,{ref:b,rows:"6",onChange:function(e){return u(e.target.value)},value:i,placeholder:"Teksti (pakollinen)",title:"Kommentin teksti",required:!0}),a.a.createElement(Qt,{type:"text",onChange:function(e){return p(e.target.value)},value:f,placeholder:"YouTube-upote",pattern:"^(http(s)?://)?((w){3}.)?youtu(be|.be)?(.com)?/.+",title:"Anna kelvollinen YouTube-linkki!"}),a.a.createElement(Ft,{type:"submit"},"Lis\xe4\xe4 kommentti")))};function Ht(){var e=Object(m.a)(["\n  height: 32px;\n  border-radius: 50%;\n  margin-right: 5px;\n"]);return Ht=function(){return e},e}function Wt(){var e=Object(m.a)(["\n  margin-top: 5px;\n  display: flex;\n  align-items: center;\n  margin-bottom: 1rem;\n    p {\n        color: #888;\n        font-size: 0.8rem;\n        font-style: italic;    \n    }\n"]);return Wt=function(){return e},e}function Mt(){var e=Object(m.a)(["\n  margin-bottom: 1rem;\n"]);return Mt=function(){return e},e}function Pt(){var e=Object(m.a)(["\n  font-size: 1.2rem;\n"]);return Pt=function(){return e},e}function Bt(){var e=Object(m.a)(["\n    font-size: 1.4rem;\n    font-weight: bold;\n    color: #7289da;\n"]);return Bt=function(){return e},e}function Vt(){var e=Object(m.a)(["\n  display: flex;\n  background-color: #2C2F33;\n  color: #FFF;\n  flex-direction: column;\n  border-radius: 5px;\n  padding: 1rem;\n  margin-bottom: 1rem;\n"]);return Vt=function(){return e},e}function Gt(){var e=Object(m.a)(["\n    display: flex;\n    flex-direction: column;\n    background-color: #2C2F33;\n    border-radius: 5px;\n    padding: 1rem;\n    align-items: center;\n    color: #fff;\n    margin-bottom: 1rem;\n    \n    a:visited{\n      color: #fff;\n    }\n"]);return Gt=function(){return e},e}function Kt(){var e=Object(m.a)(["\n  display: flex;\n  flex-direction: column;\n"]);return Kt=function(){return e},e}var qt=f.a.div(Kt()),Nt=f.a.div(Gt()),Jt=f.a.div(Vt()),Yt=f.a.h2(Bt()),Xt=f.a.div(Pt()),Zt=f.a.div(Mt()),$t=f.a.div(Wt()),er=f.a.img(Ht()),nr=function(){var e=Object(l.c)((function(e){return e.threads.thread})),n=Object(l.b)();Object(r.useEffect)((function(){var t;n((t=e._id,function(e){return e(function(e){return{type:"REQUEST_ARTICLES",thread:e}}(t)),s.a.get("https://foorumiapiprod.herokuapp.com/articles/thread/".concat(t)).then((function(n){return e({type:"REQUEST_ARTICLES_SUCCESS",response:n.data})})).catch((function(n){return e({type:"REQUEST_ARTICLES_ERROR",error:n})}))}))}),[e,n]);var t=Object(l.c)((function(e){return e.articles.loading}));return a.a.createElement(qt,null,a.a.createElement(Nt,null,a.a.createElement(i.b,{to:"/b/".concat(e.board.boarduri)},e.board.title)),a.a.createElement(Jt,null,a.a.createElement(Yt,null,e.title),a.a.createElement($t,null,a.a.createElement(er,{src:e.user&&e.user.avatar?"https://cdn.discordapp.com/avatars/".concat(e.user.discordid,"/").concat(e.user.avatar,".jpg"):q.a}),a.a.createElement("p",null,e.user?e.user.username:"Anonyymi"," - ",on(e.date))),a.a.createElement(Xt,null,a.a.createElement(Zt,null,a.a.createElement(un.a,{children:e.body,escapeHtml:!1})),e.embed&&a.a.createElement(vn,{videoID:e.embed}))),a.a.createElement(zt,null),t?a.a.createElement(W,null):a.a.createElement(wt,null))};function tr(){var e=Object(m.a)(["\n    display: flex;\n    flex-direction: column;\n    background-color: #2C2F33;\n    border-radius: 5px;\n    padding: 1rem;\n    align-items: center;\n"]);return tr=function(){return e},e}var rr=f.a.div(tr()),ar=function(e){var n=e.location.pathname.split("/")[2],t=e.location.pathname.split("/")[3],o=Object(l.b)();Object(r.useEffect)((function(){o(function(e){return function(n){return n({type:"REQUEST_THREAD",thread:e}),s.a.get("https://foorumiapiprod.herokuapp.com/threads/uri/".concat(e)).then((function(e){return n({type:"REQUEST_THREAD_SUCCESS",response:e.data})})).catch((function(e){return n({type:"REQUEST_THREAD_ERROR",error:e})}))}}(t))}),[t,o]);var c=Object(l.c)((function(e){return e.threads.thread}));return Object(l.c)((function(e){return e.threads.singleThreadLoading}))?a.a.createElement(W,null):c&&n===c.board.boarduri?a.a.createElement(nr,null):a.a.createElement(rr,null,a.a.createElement(S,null))};function or(){var e=Object(m.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  text-align: center;\n  padding: 1rem;\n  flex-direction: column;\n  \n  p {\n    color: #aaa;\n    margin-bottom: .5rem;\n  }\n  \n"]);return or=function(){return e},e}var cr=f.a.div(or()),ir=function(){return a.a.createElement(cr,null,a.a.createElement("p",null,"DiscordFoorumi (work in progress)"),a.a.createElement("p",null,"2020 \xa9 Leevi Laukka"))};var ur=function(){var e=Object(l.b)();return Object(r.useEffect)((function(){var n=window.localStorage.getItem("dToken");n&&(e({type:"LOGIN"}),e(function(e){return function(n){return n({type:"REQUEST_DISCORD_USER",userID:e}),s.a.get("https://foorumiapiprod.herokuapp.com/discord/user/".concat(e)).then((function(e){return n({type:"REQUEST_DISCORD_USER_SUCCESS",response:e.data})})).catch((function(e){return n({type:"REQUEST_DISCORD_USER_ERROR",error:e})}))}}(n))),e((function(e){return e({type:"REQUEST_ALL_BOARDS"}),s.a.get("https://foorumiapiprod.herokuapp.com/boards/").then((function(n){return e({type:"REQUEST_ALL_BOARDS_SUCCESS",response:n.data})})).catch((function(n){return e({type:"REQUEST_ALL_BOARDS_ERROR",error:n})}))}))}),[e]),a.a.createElement(i.a,null,a.a.createElement(E,{className:"App"},a.a.createElement(oe,null),a.a.createElement(u.a,{path:"/loader",component:W}),a.a.createElement(u.a,{path:"/paypal",component:Je}),a.a.createElement(j,{path:"/profile",component:Pe}),a.a.createElement(u.a,{path:"/boards",component:G}),a.a.createElement(u.a,{path:"/b/:board",exact:!0,component:Ot}),a.a.createElement(u.a,{path:"/b/:board/:thread",exact:!0,component:ar}),a.a.createElement(u.c,null,a.a.createElement(u.a,{path:"/discord/login/callback",component:R}),a.a.createElement(u.a,{path:"/discord/register/callback",component:an})),a.a.createElement(ir,null)))},lr=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function dr(e,n){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),n&&n.onUpdate&&n.onUpdate(e)):(console.log("Content is cached for offline use."),n&&n.onSuccess&&n.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var sr=t(23),mr=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"LOGIN":return!0;case"LOGOUT":return!1;default:return e}},fr=t(5),pr={loading:!1,error:"",user:{}},br=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pr,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"REQUEST_USER":return Object(fr.a)({},e,{loading:!0});case"REQUEST_USER_SUCCESS":return Object(fr.a)({},e,{error:"",loading:!1,user:n.response.response});case"REQUEST_USER_ERROR":return Object(fr.a)({},e,{token:"",loading:!1,error:n.error});case"LOGOUT":return pr;default:return e}},Er={loading:!1,error:"",guilds:[]},gr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Er,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"REQUEST_GUILDS":return Object(fr.a)({},e,{loading:!0});case"REQUEST_GUILDS_SUCCESS":return{error:"",loading:!1,guilds:n.response};case"REQUEST_GUILDS_ERROR":return Object(fr.a)({},e,{loading:!1,error:n.error});default:return e}},hr={loading:!0,error:"",user:{},token:""},vr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hr,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"REQUEST_DISCORD_USER":return Object(fr.a)({},e,{loading:!0,token:n.userID});case"REQUEST_DISCORD_USER_SUCCESS":return Object(fr.a)({},e,{error:"",loading:!1,user:n.response});case"REQUEST_DISCORD_USER_ERROR":return Object(fr.a)({},e,{token:"",loading:!1,error:n.error});case"LOGOUT":return hr;default:return e}},Or=t(18),Rr={loading:!0,error:"",articles:{},postedArticle:{},createLoading:!1},Sr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rr,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"REQUEST_ARTICLES":return Object(fr.a)({},e,{loading:!0});case"REQUEST_ARTICLES_SUCCESS":return Object(fr.a)({},e,{error:"",loading:!1,articles:n.response});case"REQUEST_ARTICLES_ERROR":return Object(fr.a)({},e,{loading:!1,error:n.error});case"REQUEST_CREATE_ARTICLES":return Object(fr.a)({},e,{createLoading:!0});case"REQUEST_CREATE_ARTICLES_SUCCESS":var t=[Object(fr.a)({},n.response.article,{user:n.author,thread:n.thread})].concat(Object(Or.a)(e.articles));return Object(fr.a)({},e,{error:"",createLoading:!1,postedArticle:n.response.article,articles:t});case"REQUEST_CREATE_ARTICLES_ERROR":return Object(fr.a)({},e,{createLoading:!1,error:n.error});default:return e}},jr={loading:!0,error:"",boards:{}},yr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jr,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"REQUEST_ALL_BOARDS":return Object(fr.a)({},e,{loading:!0});case"REQUEST_ALL_BOARDS_SUCCESS":return{error:"",loading:!1,boards:n.response};case"REQUEST_ALL_BOARDS_ERROR":return Object(fr.a)({},e,{loading:!1,error:n.error});default:return e}},xr={loading:!0,error:"",board:{}},kr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xr,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"REQUEST_BOARD":return Object(fr.a)({},e,{loading:!0});case"REQUEST_BOARD_SUCCESS":return{error:"",loading:!1,board:n.response.result};case"REQUEST_BOARD_ERROR":return Object(fr.a)({},e,{loading:!1,error:n.error});default:return e}},Tr={loading:!0,singleThreadLoading:!0,createLoading:!1,error:"",thread:{},deletedThread:{},postedThread:{},threads:{}},_r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tr,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"REQUEST_THREAD":return Object(fr.a)({},e,{singleThreadLoading:!0});case"REQUEST_THREAD_SUCCESS":return Object(fr.a)({},e,{error:"",singleThreadLoading:!1,thread:n.response.result});case"REQUEST_THREAD_ERROR":return Object(fr.a)({},e,{singleThreadLoading:!1,error:n.error});case"REQUEST_DELETE_THREAD":return Object(fr.a)({},e,{loading:!0});case"REQUEST_DELETE_THREAD_SUCCESS":var t=e.threads.filter((function(e){return e._id!==n.threadId}));return Object(fr.a)({},e,{error:"",threads:t,loading:!1,deletedThread:n.response});case"REQUEST_DELETE_THREAD_ERROR":return Object(fr.a)({},e,{loading:!1,error:n.error});case"REQUEST_CREATE_THREAD":return Object(fr.a)({},e,{createLoading:!0});case"REQUEST_CREATE_THREAD_SUCCESS":var r=[Object(fr.a)({},n.response.thread,{user:n.author,board:n.board})].concat(Object(Or.a)(e.threads));return Object(fr.a)({},e,{error:"",createLoading:!1,postedThread:n.response.thread,threads:r});case"REQUEST_CREATE_THREAD_ERROR":return Object(fr.a)({},e,{createLoading:!1,error:n.error});case"REQUEST_ALL_THREADS":return Object(fr.a)({},e,{loading:!0});case"REQUEST_ALL_THREADS_SUCCESS":return Object(fr.a)({},e,{error:"",loading:!1,threads:n.response});case"REQUEST_ALL_THREADS_ERROR":return Object(fr.a)({},e,{loading:!1,error:n.error});case"REQUEST_EDIT_THREAD":return Object(fr.a)({},e,{loading:!0});case"REQUEST_EDIT_THREAD_SUCCESS":var a=e.threads.find((function(e){return e._id===n.threadId})),o=Object(fr.a)({},a,{title:n.response.new.title,body:n.response.new.body,embed:n.response.new.embed}),c=e.threads.filter((function(e){return e._id!==n.threadId})),i=[o].concat(Object(Or.a)(c));return console.log(i),Object(fr.a)({},e,{threads:i,error:"",loading:!1});case"REQUEST_EDIT_THREAD_ERROR":return Object(fr.a)({},e,{loading:!1,error:n.error});default:return e}},wr={loading:!0,error:"",response:{}},Ur=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wr,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"REQUEST_CREATE_USER":return Object(fr.a)({},e,{loading:!0});case"REQUEST_CREATE_USER_SUCCESS":return{error:"",loading:!1,response:n.response};case"REQUEST_CREATE_USER_ERROR":return Object(fr.a)({},e,{loading:!1,error:n.error});default:return e}},Ar=Object(sr.c)({loggedIn:mr,user:br,guilds:gr,discordUser:vr,articles:Sr,threads:_r,boards:yr,board:kr,createUser:Ur}),Cr=t(71),Dr=Object(sr.e)(Ar,Object(sr.d)(Object(sr.a)(Cr.a)));c.a.render(a.a.createElement(l.a,{store:Dr},a.a.createElement(ur,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var n="".concat("","/service-worker.js");lr?(!function(e,n){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(t){var r=t.headers.get("content-type");404===t.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):dr(e,n)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(n,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):dr(n,e)}))}}()},49:function(e){e.exports=JSON.parse('[{"message":"Wobbling to 299%"},{"message":"DISCORD REQUIRES MORE MINERALS"},{"message":"Untap, Upkeep, Draw"},{"message":"SUDO - Suck it Up \'n Do as Ordered"},{"message":"Traveling to Hanamura"},{"message":"TIME\'S UP - LET\'S DO THIS!"},{"message":"This loading is a line"},{"message":"They see me loading, They waiting"},{"message":"Start your engines"},{"message":"Skipping cutscenes"},{"message":"Shuffling the deck"},{"message":"Reviving dead memes"},{"message":"Returning the slab"},{"message":"Recombobulating Discombobulators"},{"message":"now with scratch and sniff"},{"message":"Now with 100% more Screenshare!"},{"message":"Dropping in Pochinki"},{"message":"Looking for the power button"},{"message":"Look behind you"},{"message":"Locating Wumpus"},{"message":"Loading your digital hug"},{"message":"Loading Simulation"},{"message":"Jumping to hyperspace"},{"message":"Is this thing on?"},{"message":"Initiating launch sequence"},{"message":"Initializing socialization"},{"message":"If you are reading this, you can read"},{"message":"I swear it\'s around here somewhere..."},{"message":"i need healing"},{"message":"how do i turn this thing on"},{"message":"Loading machine broke"},{"message":"Get ready for a surprise!"},{"message":"Finishing this senta..."},{"message":"Dusting the cobwebs"},{"message":"Do you even notice these?"},{"message":"Opening the loading bay doors"},{"message":"Discord is my city"},{"message":"P0RN0KE1SAR1 was here"},{"message":"Disconnecting from Reality"},{"message":"Charging spirit bomb"},{"message":"Charging Limit Break"},{"message":"Calibrating flux capacitors"},{"message":"Buckle up!"},{"message":"Assembling Voltron"},{"message":"Are we there yet?"},{"message":"A brawl is surely brewing!"},{"message":"LOADING 001: ARP 303 Saw"},{"message":"Also try PuskaFoorumi"},{"message":"*Elevator Music Plays*"},{"message":"Researching cheat codes"},{"message":"Wizard needs food badly"},{"message":"Decrypting Engrams"},{"message":"And now for something completely different"},{"message":"Stopping to smell the flowers"},{"message":"Achieving Nirvana"},{"message":"Managing Inventory"}]')},73:function(e,n,t){e.exports=t(189)},78:function(e,n,t){}},[[73,1,2]]]);
//# sourceMappingURL=main.ab5d0b91.chunk.js.map